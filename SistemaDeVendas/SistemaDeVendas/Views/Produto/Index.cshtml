@model List<SistemaDeVendas.Models.Produto>

<div class="container-fluid">

	<!-- Page Heading -->
	<h1 class="h3 mb-2 text-gray-800">Produtos</h1>
	<p class="mb-4">
		
	</p>

	<!-- DataTales Example -->
	<div class="card shadow mb-4">
		<div class="card-header py-3 d-flex justify-content-between align-items-center">
			<h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
			<a class="btn btn-primary" asp-controller="Produto" asp-action="NovoProduto">Adicionar</a>
		</div>

		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
					<thead>
						<tr>
							<th>Foto</th>
							<th>Nome</th>
							<th>Descricao</th>
							<th>Estoque</th>
							<th>Preço</th>
							<th style="width: 90px;">Ações</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var produto in Model)
						{
							<tr>
								<td>
									@if (!string.IsNullOrEmpty(produto.Link_Foto))
									{
										<img src="@produto.Link_Foto"
											 class="img-fluid rounded"
											 style="max-width: 240px; max-height: 160px; object-fit: cover;"
											 alt="Foto do produto" />
									} else
									{
										<span class="text-muted">Sem foto</span>
									}
								</td>
								<td>@produto.Nome</td>
								<td>@produto.Descricao</td>
								<td>@produto.Quantidade_Estoque</td>								
								<td>@produto.Preco_Unitario?.ToString("C2")</td>
								<td>
									<a asp-action="EditarProduto" asp-controller="Produto" asp-route-id="@produto.Id" class="btn btn-warning btn-circle btn-sm">
										<i class="fas fa-pencil-alt"></i>
									</a>
									<a asp-action="DeletarProduto" asp-controller="Produto" asp-route-id="@produto.Id" class="btn btn-danger btn-circle btn-sm">
										<i class="fas fa-trash"></i>
									</a>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>